# 工时计算器 - 使用说明

## 简介

工时计算器是一款帮助您记录、计算和可视化日常工作时长的工具。支持：
- 📝 手动录入每日上下班时间
- 🤖 AI 智能识别打卡记录截图
- 📊 可视化工时统计图表
- 💾 数据本地存储

## 快速开始

### 1. 环境准备

确保已安装 Node.js (建议 v16+)

```bash
node --version
```

### 2. 安装依赖

```bash
npm install
```

### 3. 配置 API Key

1. 复制 `.env.example` 为 `.env`
   ```bash
   cp .env.example .env
   ```

2. 编辑 `.env` 文件，填入您的 SiliconFlow API Key
   ```
   VITE_SILICONFLOW_API_KEY=sk-xxxxxx...
   ```

   获取 API Key：
   - 访问 [SiliconFlow Cloud](https://cloud.siliconflow.cn)
   - 注册/登录账号
   - 在 API 密钥管理页面创建密钥

### 4. 启动应用

```bash
npm run dev
```

访问 http://localhost:5173

## 功能说明

### 手动录入工时

1. 在「每日工时录入」表单中填写：
   - **日期** - 选择工作日期
   - **上班时间** - 签到时间
   - **下班时间** - 签退时间
   - **午休时长** - 午休时间（小时），默认为 1.5 小时

2. 点击「添加记录」保存

### AI 智能识别打卡记录

1. 点击上传区域或拖拽图片到框内
2. 支持 PNG、JPG 格式
3. 点击「识别打卡时间」
4. 确认识别结果后点击「确认添加」

**识别原理：**
- 使用 Qwen2.5-VL-72B-Instruct 模型分析图片
- 自动提取打卡时间点
- 按日期分组返回识别结果

### 查看统计数据

- **工时记录列表** - 显示所有记录，支持编辑/删除
- **图表分析** - 展示工时趋势折线图

## 数据存储

- 所有数据保存在浏览器本地存储 (localStorage)
- 清除浏览器缓存会导致数据丢失
- 建议定期手动备份重要数据

## 常见问题

### Q: API 调用失败？

A: 请检查：
1. `.env` 文件中的 API Key 是否正确
2. SiliconFlow 账户是否有足够余额
3. 网络连接是否正常

### Q: 图片识别不准确？

A: 尝试以下方法：
- 上传更清晰的打卡截图
- 确保图片中的时间文字清晰可读
- 避免图片过大或过小

### Q: 如何修改午休时长默认值？

A: 在「每日工时录入」表单中直接修改「默认午休时长」即可。

### Q: 数据会丢失吗？

A: 数据存储在浏览器 localStorage 中，清除缓存会丢失。建议定期记录重要数据。

## 技术支持

如有问题，请：
1. 查看浏览器控制台错误信息
2. 检查 SiliconFlow API 余额
3. 确认图片格式和清晰度

## 许可证

MIT License
