# 卷了么 - 使用指南

## 简介

卷了么是一款智能出勤记录与分析工具，帮助您：
- 📸 拍照识别打卡记录
- 📝 粘贴文本快速录入
- 📊 自动计算和分析工时
- 🏆 根据出勤表现生成专属搞笑称号

## 快速开始

### 1. 环境准备

确保已安装 Node.js（建议 v16+）：

```bash
node --version
```

### 2. 安装依赖

```bash
npm install
```

### 3. 配置 API Key

1. 复制环境变量文件：
```bash
cp .env.example .env
```

2. 编辑 `.env` 文件，填入您的 SiliconFlow API Key：
```
VITE_SILICONFLOW_API_KEY=sk-xxxxxx...
```

**获取 API Key：**
- 访问 [SiliconFlow Cloud](https://cloud.siliconflow.cn)
- 注册/登录账号
- 在 API 密钥管理页面创建密钥

### 4. 启动应用

```bash
npm run dev
```

访问 http://localhost:5173

## 功能说明

### 识别打卡记录

#### 方式一：图片上传识别

1. 点击上传区域或拖拽打卡截图到框内
2. 支持 PNG、JPG 格式
3. 点击「识别打卡时间」
4. AI 自动识别并生成工时记录

**识别原理：**
- 使用 GLM-4.6V 多模态模型分析图片
- 自动提取打卡时间点
- 按日期分组返回识别结果

#### 方式二：文本粘贴识别（推荐）

1. 直接在输入框粘贴打卡信息文本
2. 点击「识别打卡时间」
3. AI 自动解析文本中的打卡记录

**优势：**
- 无需截图，操作更便捷
- 响应速度更快（已优化推理模式）

### 查看分析结果

识别完成后，您可以查看：

| 模块 | 说明 |
|------|------|
| 🏆 专属称号 | 根据出勤表现生成的搞笑称号和图片 |
| 📈 工时趋势图 | 展示每日工时变化折线图 |
| 📋 工时记录列表 | 所有出勤记录的详细列表 |

### 手动录入工时

如需手动添加记录：

1. 点击「+ 手动录入工时」按钮
2. 填写日期、上班时间、下班时间
3. 点击「添加记录」保存

## 数据规则

### 打卡时间有效性

| 情况 | 处理方式 |
|------|----------|
| 早于 7:00 的上班打卡 | 自动过滤，不纳入计算 |
| 超过 9:30 的上班打卡 | 统计为迟到 |
| 早于 18:00 的下班打卡 | 统计为早退 |

### 数据覆盖

- 每次识别的新数据会**完全替换**已有数据
- 记录按日期升序排列展示

### 数据存储

- 所有数据保存在浏览器本地存储 (localStorage)
- 清除浏览器缓存会导致数据丢失
- 建议定期查看和备份重要数据

## 常见问题

### Q: API 调用失败？

**A:** 请检查：
1. `.env` 文件中的 API Key 是否正确
2. SiliconFlow 账户是否有足够余额
3. 网络连接是否正常

### Q: 图片识别不准确？

**A:** 尝试以下方法：
- 上传更清晰的打卡截图
- 确保图片中的时间文字清晰可读
- 避免图片过大或过小
- 尝试使用文本粘贴方式

### Q: 响应速度慢？

**A:** 文本识别已开启加速模式，如仍慢请检查：
- 网络连接
- API 账户余额

### Q: 如何修改午休时长？

**A:** 在「基本设置」中直接修改「默认午休时长」即可。

### Q: 数据会丢失吗？

**A:** 数据存储在浏览器 localStorage 中，清除缓存会丢失。建议定期记录重要数据。

## 界面说明

### 主界面布局

```
┌─────────────────────────────────────────┐
│  🏢 出勤计算器                    ⚙️ API │ ← 头部
├──────────┬──────────────────────────────┤
│          │                              │
│ ⚙️ 基本  │  🏆 专属称号（如有）           │
│ 设置     │                              │
│          │  📈 工时趋势图                │
│ ──────── │                              │
│ 📝 手动  │  📋 工时记录列表              │
│ 录入     │                              │
│          │                              │
│ 🖼️ 图片  │                              │
│ /文本    │                              │
│ 上传     │                              │
│          │                              │
└──────────┴──────────────────────────────┘
│  👨‍💻 制作人：iflow  |  🤖 模型：xxx   │ ← 页脚
└─────────────────────────────────────────┘
```

## 技术支持

如有问题，请：
1. 查看浏览器控制台（F12）的错误信息
2. 检查 SiliconFlow API 余额
3. 确认图片格式和清晰度
4. 尝试使用文本粘贴方式

## 许可证

MIT License
